'use client';
'use strict';

Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const react = require('react');
const reactDom = require('react-dom');
const useLatestRef = require('./use-latest-ref.cjs');

function useEvent(callback, opts = {}) {
  const { sync = false } = opts;
  const callbackRef = useLatestRef.useLatestRef(callback);
  return react.useCallback(
    (...args) => {
      if (sync)
        return reactDom.flushSync(() => callbackRef.current?.(...args));
      return callbackRef.current?.(...args);
    },
    [sync, callbackRef]
  );
}

exports.useEvent = useEvent;
