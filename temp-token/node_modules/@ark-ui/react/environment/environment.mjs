'use client';
import { jsxs, jsx } from 'react/jsx-runtime';
import { useRef, useMemo } from 'react';
import { EnvironmentProvider } from './environment-context.mjs';

const Environment = (props) => {
  const { value, children } = props;
  const ref = useRef(null);
  const currentEnv = useMemo(() => () => value ?? ref.current?.ownerDocument ?? document, [value]);
  const showSpan = !value;
  return /* @__PURE__ */ jsxs(EnvironmentProvider, { value: currentEnv, children: [
    children,
    showSpan && /* @__PURE__ */ jsx("span", { hidden: true, ref })
  ] });
};

export { Environment };
