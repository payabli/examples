{"version":3,"sources":["../src/index.ts","../src/number-input.anatomy.ts","../src/number-input.connect.ts","../src/number-input.dom.ts","../src/number-input.utils.ts","../src/number-input.machine.ts"],"sourcesContent":["export { anatomy } from \"./number-input.anatomy\"\nexport { connect } from \"./number-input.connect\"\nexport { machine } from \"./number-input.machine\"\nexport type { UserDefinedContext as Context, MachineApi as Api } from \"./number-input.types\"\n","import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"numberInput\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"control\",\n  \"incrementTrigger\",\n  \"decrementTrigger\",\n  \"scrubber\",\n)\nexport const parts = anatomy.build()\n","import { getEventPoint, getEventStep, getNativeEvent, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr } from \"@zag-js/dom-query\"\nimport { roundToDevicePixel } from \"@zag-js/number-utils\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./number-input.anatomy\"\nimport { dom } from \"./number-input.dom\"\nimport type { MachineApi, Send, State } from \"./number-input.types\"\nimport { utils } from \"./number-input.utils\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const isFocused = state.hasTag(\"focus\")\n  const isInvalid = state.context.isOutOfRange || !!state.context.invalid\n\n  const isDisabled = !!state.context.disabled\n  const isValueEmpty = state.context.isValueEmpty\n  const isIncrementDisabled = isDisabled || !state.context.canIncrement\n  const isDecrementDisabled = isDisabled || !state.context.canDecrement\n\n  const translations = state.context.translations\n\n  return {\n    isFocused,\n    isInvalid,\n    isValueEmpty,\n    value: state.context.formattedValue,\n    valueAsNumber: state.context.valueAsNumber,\n\n    setValue(value: string | number) {\n      send({ type: \"SET_VALUE\", value: value.toString() })\n    },\n\n    clearValue() {\n      send(\"CLEAR_VALUE\")\n    },\n\n    increment() {\n      send(\"INCREMENT\")\n    },\n\n    decrement() {\n      send(\"DECREMENT\")\n    },\n\n    setToMax() {\n      send({ type: \"SET_VALUE\", value: state.context.max })\n    },\n\n    setToMin() {\n      send({ type: \"SET_VALUE\", value: state.context.min })\n    },\n\n    focus() {\n      dom.getInputEl(state.context)?.focus()\n    },\n\n    blur() {\n      dom.getInputEl(state.context)?.blur()\n    },\n\n    rootProps: normalize.element({\n      id: dom.getRootId(state.context),\n      ...parts.root.attrs,\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-focus\": dataAttr(isFocused),\n      \"data-invalid\": dataAttr(isInvalid),\n    }),\n\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-focus\": dataAttr(isFocused),\n      \"data-invalid\": dataAttr(isInvalid),\n      id: dom.getLabelId(state.context),\n      htmlFor: dom.getInputId(state.context),\n    }),\n\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      role: \"group\",\n      \"aria-disabled\": isDisabled,\n      \"data-focus\": dataAttr(isFocused),\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(isInvalid),\n      \"aria-invalid\": ariaAttr(state.context.invalid),\n    }),\n\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      name: state.context.name,\n      form: state.context.form,\n      id: dom.getInputId(state.context),\n      role: \"spinbutton\",\n      defaultValue: state.context.formattedValue,\n      pattern: state.context.pattern,\n      inputMode: state.context.inputMode,\n      \"aria-invalid\": ariaAttr(isInvalid),\n      \"data-invalid\": dataAttr(isInvalid),\n      disabled: isDisabled,\n      \"data-disabled\": dataAttr(isDisabled),\n      readOnly: !!state.context.readOnly,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      spellCheck: \"false\",\n      type: \"text\",\n      \"aria-roledescription\": \"numberfield\",\n      \"aria-valuemin\": state.context.min,\n      \"aria-valuemax\": state.context.max,\n      \"aria-valuenow\": isNaN(state.context.valueAsNumber) ? undefined : state.context.valueAsNumber,\n      \"aria-valuetext\": state.context.valueText,\n      onFocus() {\n        send(\"FOCUS\")\n      },\n      onBlur() {\n        send(\"BLUR\")\n      },\n      onChange(event) {\n        send({ type: \"CHANGE\", target: event.currentTarget, hint: \"set\" })\n      },\n      onKeyDown(event) {\n        const evt = getNativeEvent(event)\n        // TODO: This blocks non-ascii characters\n        if (evt.isComposing) return\n\n        if (!utils.isValidNumericEvent(state.context, event)) {\n          event.preventDefault()\n        }\n\n        const step = getEventStep(event) * state.context.step\n\n        const keyMap: EventKeyMap = {\n          ArrowUp() {\n            send({ type: \"ARROW_UP\", step })\n          },\n          ArrowDown() {\n            send({ type: \"ARROW_DOWN\", step })\n          },\n          Home() {\n            send(\"HOME\")\n          },\n          End() {\n            send(\"END\")\n          },\n        }\n\n        const exec = keyMap[event.key]\n\n        if (exec) {\n          exec(event)\n          event.preventDefault()\n        }\n      },\n    }),\n\n    decrementTriggerProps: normalize.button({\n      ...parts.decrementTrigger.attrs,\n      id: dom.getDecrementTriggerId(state.context),\n      disabled: isDecrementDisabled,\n      \"data-disabled\": dataAttr(isDecrementDisabled),\n      \"aria-label\": translations.decrementLabel,\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-controls\": dom.getInputId(state.context),\n      onPointerDown(event) {\n        if (isDecrementDisabled) return\n        send(isLeftClick(event) ? { type: \"PRESS_DOWN\", hint: \"decrement\" } : { type: \"FOCUS\" })\n        event.preventDefault()\n      },\n      onPointerUp() {\n        send({ type: \"PRESS_UP\", hint: \"decrement\" })\n      },\n      onPointerLeave() {\n        if (isDecrementDisabled) return\n        send({ type: \"PRESS_UP\", hint: \"decrement\" })\n      },\n    }),\n\n    incrementTriggerProps: normalize.button({\n      ...parts.incrementTrigger.attrs,\n      id: dom.getIncrementTriggerId(state.context),\n      disabled: isIncrementDisabled,\n      \"data-disabled\": dataAttr(isIncrementDisabled),\n      \"aria-label\": translations.incrementLabel,\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-controls\": dom.getInputId(state.context),\n      onPointerDown(event) {\n        if (isIncrementDisabled) return\n        send(isLeftClick(event) ? { type: \"PRESS_DOWN\", hint: \"increment\" } : { type: \"FOCUS\" })\n        event.preventDefault()\n      },\n      onPointerUp() {\n        send({ type: \"PRESS_UP\", hint: \"increment\" })\n      },\n      onPointerLeave() {\n        send({ type: \"PRESS_UP\", hint: \"increment\" })\n      },\n    }),\n\n    scrubberProps: normalize.element({\n      ...parts.scrubber.attrs,\n      \"data-disabled\": dataAttr(isDisabled),\n      id: dom.getScrubberId(state.context),\n      role: \"presentation\",\n      onMouseDown(event) {\n        if (isDisabled) return\n\n        const evt = getNativeEvent(event)\n\n        const point = getEventPoint(evt)\n        point.x = point.x - roundToDevicePixel(7.5)\n        point.y = point.y - roundToDevicePixel(7.5)\n\n        send({ type: \"PRESS_DOWN_SCRUBBER\", point })\n        event.preventDefault()\n      },\n      style: {\n        cursor: isDisabled ? undefined : \"ew-resize\",\n      },\n    }),\n  }\n}\n","import { createScope, isSafari, MAX_Z_INDEX } from \"@zag-js/dom-query\"\nimport { roundToDevicePixel, wrap } from \"@zag-js/number-utils\"\nimport type { MachineContext as Ctx } from \"./number-input.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `number-input:${ctx.id}`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `number-input:${ctx.id}:input`,\n  getIncrementTriggerId: (ctx: Ctx) => ctx.ids?.incrementTrigger ?? `number-input:${ctx.id}:inc`,\n  getDecrementTriggerId: (ctx: Ctx) => ctx.ids?.decrementTrigger ?? `number-input:${ctx.id}:dec`,\n  getScrubberId: (ctx: Ctx) => ctx.ids?.scrubber ?? `number-input:${ctx.id}:scrubber`,\n  getCursorId: (ctx: Ctx) => `number-input:${ctx.id}:cursor`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `number-input:${ctx.id}:label`,\n\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getIncrementTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getIncrementTriggerId(ctx)),\n  getDecrementTriggerEl: (ctx: Ctx) => dom.getById<HTMLButtonElement>(ctx, dom.getDecrementTriggerId(ctx)),\n  getScrubberEl: (ctx: Ctx) => dom.getById(ctx, dom.getScrubberId(ctx)),\n  getCursorEl: (ctx: Ctx) => dom.getDoc(ctx).getElementById(dom.getCursorId(ctx)),\n\n  getPressedTriggerEl: (ctx: Ctx, hint = ctx.hint) => {\n    let btnEl: HTMLButtonElement | null = null\n    if (hint === \"increment\") {\n      btnEl = dom.getIncrementTriggerEl(ctx)\n    }\n    if (hint === \"decrement\") {\n      btnEl = dom.getDecrementTriggerEl(ctx)\n    }\n    return btnEl\n  },\n\n  setupVirtualCursor(ctx: Ctx) {\n    if (isSafari()) return\n    dom.createVirtualCursor(ctx)\n    return () => {\n      dom.getCursorEl(ctx)?.remove()\n    }\n  },\n\n  preventTextSelection(ctx: Ctx) {\n    const doc = dom.getDoc(ctx)\n    const html = doc.documentElement\n    const body = doc.body\n\n    body.style.pointerEvents = \"none\"\n    html.style.userSelect = \"none\"\n    html.style.cursor = \"ew-resize\"\n\n    return () => {\n      body.style.pointerEvents = \"\"\n      html.style.userSelect = \"\"\n      html.style.cursor = \"\"\n      if (!html.style.length) {\n        html.removeAttribute(\"style\")\n      }\n      if (!body.style.length) {\n        body.removeAttribute(\"style\")\n      }\n    }\n  },\n\n  getMousementValue(ctx: Ctx, event: MouseEvent) {\n    const x = roundToDevicePixel(event.movementX)\n    const y = roundToDevicePixel(event.movementY)\n\n    let hint = x > 0 ? \"increment\" : x < 0 ? \"decrement\" : null\n\n    if (ctx.isRtl && hint === \"increment\") hint = \"decrement\"\n    if (ctx.isRtl && hint === \"decrement\") hint = \"increment\"\n\n    const point = {\n      x: ctx.scrubberCursorPoint!.x + x,\n      y: ctx.scrubberCursorPoint!.y + y,\n    }\n\n    const win = dom.getWin(ctx)\n    const width = win.innerWidth\n    const half = roundToDevicePixel(7.5)\n    point.x = wrap(point.x + half, width) - half\n\n    return { hint, point }\n  },\n\n  createVirtualCursor(ctx: Ctx) {\n    const doc = dom.getDoc(ctx)\n    const el = doc.createElement(\"div\")\n    el.className = \"scrubber--cursor\"\n    el.id = dom.getCursorId(ctx)\n\n    Object.assign(el.style, {\n      width: \"15px\",\n      height: \"15px\",\n      position: \"fixed\",\n      pointerEvents: \"none\",\n      left: \"0px\",\n      top: \"0px\",\n      zIndex: MAX_Z_INDEX,\n      transform: ctx.scrubberCursorPoint\n        ? `translate3d(${ctx.scrubberCursorPoint.x}px, ${ctx.scrubberCursorPoint.y}px, 0px)`\n        : undefined,\n      willChange: \"transform\",\n    })\n\n    el.innerHTML = `\n        <svg width=\"46\" height=\"15\" style=\"left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);\">\n          <g transform=\"translate(2 3)\">\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\" style=\"stroke-width: 2px; stroke: white;\"></path>\n            <path fill-rule=\"evenodd\" d=\"M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z\"></path>\n          </g>\n        </svg>`\n\n    doc.body.appendChild(el)\n  },\n})\n","import { isModifiedEvent } from \"@zag-js/dom-event\"\nimport { clamp, decrement, formatDecimal, increment } from \"@zag-js/number-utils\"\nimport type { JSX } from \"@zag-js/types\"\nimport type { MachineContext as Ctx } from \"./number-input.types\"\n\nexport const utils = {\n  isValidNumericEvent: (ctx: Ctx, event: JSX.KeyboardEvent) => {\n    if (event.key == null) return true\n    const isModifier = isModifiedEvent(event)\n    const isSingleKey = event.key.length === 1\n    if (isModifier || !isSingleKey) return true\n    return ctx.validateCharacter?.(event.key) ?? utils.isFloatingPoint(event.key)\n  },\n  isFloatingPoint: (v: string) => /^[0-9+\\-.]$/.test(v),\n  sanitize: (ctx: Ctx, value: string) => {\n    return value\n      .split(\"\")\n      .filter(ctx.validateCharacter ?? utils.isFloatingPoint)\n      .join(\"\")\n  },\n  increment: (ctx: Ctx, step?: number) => {\n    const value = increment(ctx.value, step ?? ctx.step)\n    return formatDecimal(clamp(value, ctx), ctx)\n  },\n  decrement: (ctx: Ctx, step?: number) => {\n    const value = decrement(ctx.value, step ?? ctx.step)\n    return formatDecimal(clamp(value, ctx), ctx)\n  },\n  clamp: (ctx: Ctx) => {\n    return formatDecimal(clamp(ctx.value, ctx), ctx)\n  },\n  parse: (ctx: Ctx, value: string) => {\n    return ctx.parse?.(value) ?? value\n  },\n  format: (ctx: Ctx, value: string | number) => {\n    const _val = value.toString()\n    return ctx.format?.(_val) ?? _val\n  },\n  round: (ctx: Ctx) => {\n    return formatDecimal(ctx.value, ctx)\n  },\n}\n","import { choose, createMachine, guards } from \"@zag-js/core\"\nimport { addDomEvent, requestPointerLock } from \"@zag-js/dom-event\"\nimport { isSafari, raf } from \"@zag-js/dom-query\"\nimport { observeAttributes } from \"@zag-js/mutation-observer\"\nimport { isAtMax, isAtMin, isWithinRange, valueOf } from \"@zag-js/number-utils\"\nimport { callAll, compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./number-input.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./number-input.types\"\nimport { utils } from \"./number-input.utils\"\n\nconst { not, and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"number-input\",\n      initial: \"idle\",\n      context: {\n        dir: \"ltr\",\n        focusInputOnChange: true,\n        clampValueOnBlur: true,\n        allowOverflow: false,\n        inputMode: \"decimal\",\n        pattern: \"[0-9]*(.[0-9]+)?\",\n        hint: null,\n        value: \"\",\n        step: 1,\n        min: Number.MIN_SAFE_INTEGER,\n        max: Number.MAX_SAFE_INTEGER,\n        scrubberCursorPoint: null,\n        invalid: false,\n        spinOnPress: true,\n        ...ctx,\n        translations: {\n          incrementLabel: \"increment value\",\n          decrementLabel: \"decrease value\",\n          ...ctx.translations,\n        },\n      },\n\n      computed: {\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        valueAsNumber: (ctx) => valueOf(ctx.value),\n        isAtMin: (ctx) => isAtMin(ctx.value, ctx),\n        isAtMax: (ctx) => isAtMax(ctx.value, ctx),\n        isOutOfRange: (ctx) => !isWithinRange(ctx.value, ctx),\n        isValueEmpty: (ctx) => ctx.value === \"\",\n        canIncrement: (ctx) => ctx.allowOverflow || !ctx.isAtMax,\n        canDecrement: (ctx) => ctx.allowOverflow || !ctx.isAtMin,\n        valueText: (ctx) => ctx.translations.valueText?.(ctx.value),\n        formattedValue: (ctx) => ctx.format?.(ctx.value).toString() ?? ctx.value,\n      },\n\n      watch: {\n        value: [\"syncInputElement\"],\n        isOutOfRange: [\"invokeOnInvalid\"],\n        scrubberCursorPoint: [\"setVirtualCursorPosition\"],\n      },\n\n      entry: [\"syncInputValue\"],\n\n      on: {\n        SET_VALUE: {\n          actions: [\"setValue\", \"clampValue\", \"setHintToSet\"],\n        },\n        CLEAR_VALUE: {\n          actions: [\"clearValue\"],\n        },\n        INCREMENT: {\n          actions: [\"increment\"],\n        },\n        DECREMENT: {\n          actions: [\"decrement\"],\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            PRESS_DOWN: {\n              target: \"before:spin\",\n              actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\"],\n            },\n            PRESS_DOWN_SCRUBBER: {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"invokeOnFocus\", \"setHint\", \"setCursorPoint\"],\n            },\n            FOCUS: {\n              target: \"focused\",\n              actions: [\"focusInput\", \"invokeOnFocus\"],\n            },\n          },\n        },\n\n        focused: {\n          tags: \"focus\",\n          entry: \"focusInput\",\n          activities: \"attachWheelListener\",\n          on: {\n            PRESS_DOWN: {\n              target: \"before:spin\",\n              actions: [\"focusInput\", \"setHint\"],\n            },\n            PRESS_DOWN_SCRUBBER: {\n              target: \"scrubbing\",\n              actions: [\"focusInput\", \"setHint\", \"setCursorPoint\"],\n            },\n            ARROW_UP: {\n              actions: \"increment\",\n            },\n            ARROW_DOWN: {\n              actions: \"decrement\",\n            },\n            HOME: {\n              actions: \"setToMin\",\n            },\n            END: {\n              actions: \"setToMax\",\n            },\n            CHANGE: {\n              actions: [\"setValue\", \"setHint\"],\n            },\n            BLUR: [\n              {\n                guard: \"isInvalidExponential\",\n                target: \"idle\",\n                actions: [\"clearValue\", \"clearHint\", \"invokeOnBlur\"],\n              },\n              {\n                guard: and(\"clampOnBlur\", not(\"isInRange\"), not(\"isEmptyValue\")),\n                target: \"idle\",\n                actions: [\"clampValue\", \"clearHint\", \"invokeOnBlur\"],\n              },\n              {\n                target: \"idle\",\n                actions: [\"roundValue\", \"invokeOnBlur\"],\n              },\n            ],\n          },\n        },\n\n        \"before:spin\": {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          entry: choose([\n            { guard: \"isIncrementHint\", actions: \"increment\" },\n            { guard: \"isDecrementHint\", actions: \"decrement\" },\n          ]),\n          after: {\n            CHANGE_DELAY: {\n              target: \"spinning\",\n              guard: and(\"isInRange\", \"spinOnPress\"),\n            },\n          },\n          on: {\n            PRESS_UP: {\n              target: \"focused\",\n              actions: \"clearHint\",\n            },\n          },\n        },\n\n        spinning: {\n          tags: \"focus\",\n          activities: \"trackButtonDisabled\",\n          every: [\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMin\"), \"isIncrementHint\"),\n              actions: \"increment\",\n            },\n            {\n              delay: \"CHANGE_INTERVAL\",\n              guard: and(not(\"isAtMax\"), \"isDecrementHint\"),\n              actions: \"decrement\",\n            },\n          ],\n          on: {\n            PRESS_UP: {\n              target: \"focused\",\n              actions: \"clearHint\",\n            },\n          },\n        },\n\n        scrubbing: {\n          tags: \"focus\",\n          exit: \"clearCursorPoint\",\n          activities: [\"activatePointerLock\", \"trackMousemove\", \"setupVirtualCursor\", \"preventTextSelection\"],\n          on: {\n            POINTER_UP_SCRUBBER: \"focused\",\n            POINTER_MOVE_SCRUBBER: [\n              {\n                guard: \"isIncrementHint\",\n                actions: [\"increment\", \"setCursorPoint\"],\n              },\n              {\n                guard: \"isDecrementHint\",\n                actions: [\"decrement\", \"setCursorPoint\"],\n              },\n            ],\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        CHANGE_INTERVAL: 50,\n        CHANGE_DELAY: 300,\n      },\n\n      guards: {\n        clampOnBlur: (ctx) => !!ctx.clampValueOnBlur,\n        isAtMin: (ctx) => ctx.isAtMin,\n        spinOnPress: (ctx) => !!ctx.spinOnPress,\n        isAtMax: (ctx) => ctx.isAtMax,\n        isInRange: (ctx) => !ctx.isOutOfRange,\n        isDecrementHint: (ctx, evt) => (evt.hint ?? ctx.hint) === \"decrement\",\n        isEmptyValue: (ctx) => ctx.isValueEmpty,\n        isIncrementHint: (ctx, evt) => (evt.hint ?? ctx.hint) === \"increment\",\n        isInvalidExponential: (ctx) => ctx.value.toString().startsWith(\"e\"),\n      },\n\n      activities: {\n        setupVirtualCursor(ctx) {\n          return dom.setupVirtualCursor(ctx)\n        },\n        preventTextSelection(ctx) {\n          return dom.preventTextSelection(ctx)\n        },\n        trackButtonDisabled(ctx, _evt, { send }) {\n          const btn = dom.getPressedTriggerEl(ctx, ctx.hint)\n          return observeAttributes(btn, [\"disabled\"], () => {\n            send(\"PRESS_UP\")\n          })\n        },\n        attachWheelListener(ctx, _evt, { send }) {\n          const input = dom.getInputEl(ctx)\n          if (!input) return\n\n          function onWheel(event: WheelEvent) {\n            const isInputFocused = dom.getDoc(ctx).activeElement === input\n            if (!ctx.allowMouseWheel || !isInputFocused) return\n            event.preventDefault()\n\n            const dir = Math.sign(event.deltaY) * -1\n            if (dir === 1) {\n              send(\"INCREMENT\")\n            } else if (dir === -1) {\n              send(\"DECREMENT\")\n            }\n          }\n          return addDomEvent(input, \"wheel\", onWheel, { passive: false })\n        },\n        activatePointerLock(ctx) {\n          if (isSafari()) return\n          return requestPointerLock(dom.getDoc(ctx))\n        },\n        trackMousemove(ctx, _evt, { send }) {\n          const doc = dom.getDoc(ctx)\n\n          function onMousemove(event: MouseEvent) {\n            if (!ctx.scrubberCursorPoint) return\n            const value = dom.getMousementValue(ctx, event)\n            if (!value.hint) return\n            send({\n              type: \"POINTER_MOVE_SCRUBBER\",\n              hint: value.hint,\n              point: value.point,\n            })\n          }\n\n          function onMouseup() {\n            send(\"POINTER_UP_SCRUBBER\")\n          }\n\n          return callAll(\n            addDomEvent(doc, \"mousemove\", onMousemove, false),\n            addDomEvent(doc, \"mouseup\", onMouseup, false),\n          )\n        },\n      },\n\n      actions: {\n        focusInput(ctx) {\n          if (!ctx.focusInputOnChange) return\n          const inputEl = dom.getInputEl(ctx)\n          raf(() => {\n            inputEl?.focus()\n          })\n        },\n        increment(ctx, evt) {\n          set.value(ctx, utils.increment(ctx, evt.step))\n        },\n        decrement(ctx, evt) {\n          set.value(ctx, utils.decrement(ctx, evt.step))\n        },\n        clampValue(ctx) {\n          set.value(ctx, utils.clamp(ctx))\n        },\n        roundValue(ctx) {\n          if (ctx.value === \"\") return\n          set.value(ctx, utils.round(ctx))\n        },\n        setValue(ctx, evt) {\n          let value = evt.target?.value ?? evt.value\n          value = utils.sanitize(ctx, utils.parse(ctx, value.toString()))\n          set.value(ctx, value)\n        },\n        clearValue(ctx) {\n          set.value(ctx, \"\")\n        },\n        setToMax(ctx) {\n          set.value(ctx, ctx.max.toString())\n        },\n        setToMin(ctx) {\n          set.value(ctx, ctx.min.toString())\n        },\n        setHint(ctx, evt) {\n          ctx.hint = evt.hint\n        },\n        clearHint(ctx) {\n          ctx.hint = null\n        },\n        setHintToSet(ctx) {\n          ctx.hint = \"set\"\n        },\n        invokeOnFocus(ctx, evt) {\n          let srcElement: HTMLElement | null = null\n\n          if (evt.type === \"PRESS_DOWN\") {\n            srcElement = dom.getPressedTriggerEl(ctx, evt.hint)\n          } else if (evt.type === \"FOCUS\") {\n            srcElement = dom.getInputEl(ctx)\n          } else if (evt.type === \"PRESS_DOWN_SCRUBBER\") {\n            srcElement = dom.getScrubberEl(ctx)\n          }\n\n          ctx.onFocus?.({\n            value: ctx.value,\n            valueAsNumber: ctx.valueAsNumber,\n            srcElement,\n          })\n        },\n        invokeOnBlur(ctx) {\n          ctx.onBlur?.({ value: ctx.value, valueAsNumber: ctx.valueAsNumber })\n        },\n        invokeOnInvalid(ctx) {\n          if (!ctx.isOutOfRange) return\n          const reason = ctx.valueAsNumber > ctx.max ? \"rangeOverflow\" : \"rangeUnderflow\"\n          ctx.onInvalid?.({\n            reason,\n            value: ctx.formattedValue,\n            valueAsNumber: ctx.valueAsNumber,\n          })\n        },\n        syncInputElement(ctx) {\n          const inputEl = dom.getInputEl(ctx)\n          dom.setValue(inputEl, ctx.formattedValue)\n        },\n        syncInputValue(ctx) {\n          const inputEl = dom.getInputEl(ctx)\n          if (!inputEl || inputEl.value == ctx.value) return\n\n          const value = utils.parse(ctx, inputEl.value)\n          set.value(ctx, utils.sanitize(ctx, value))\n        },\n        setCursorPoint(ctx, evt) {\n          ctx.scrubberCursorPoint = evt.point\n        },\n        clearCursorPoint(ctx) {\n          ctx.scrubberCursorPoint = null\n        },\n        setVirtualCursorPosition(ctx) {\n          const cursor = dom.getCursorEl(ctx)\n          if (!cursor || !ctx.scrubberCursorPoint) return\n          const { x, y } = ctx.scrubberCursorPoint\n          cursor.style.transform = `translate3d(${x}px, ${y}px, 0px)`\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  onChange: (ctx: MachineContext) => {\n    ctx.onChange?.({ value: ctx.value, valueAsNumber: ctx.valueAsNumber })\n  },\n}\n\nconst set = {\n  value: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.onChange(ctx)\n  },\n}\n"],"mappings":"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","names":["import_dom_event","import_dom_query","import_number_utils","import_number_utils","import_dom_event","import_dom_query","import_number_utils","ctx"]}